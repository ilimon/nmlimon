<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Christmas Card - Happy New Year and Merry Christmas</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico">
    <link rel="stylesheet" href="/new_year/css/style.css">
    <link rel="shortcut icon" href="/new_year/src/favicon.ico" />
</head>

<body>
    <main>
        <div class="cont">
            <h1 class="title"><span>Merry Christmas!</span></h1>
            <p><a href="#" class="btn modal-trigger"><span>Web-developers</span></a></p>
        </div>

        <div class="modal">
            <div class="modal-content">
                <div class="flex">
                    <img src="/new_year/src/logo.png" alt="">
                    <div>
                        <h2>Happy New Year 2019 !</h2>
                        <div><p>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta, quisquam corrupti! Incidunt corrupti reiciendis dicta ex distinctio? Repellendus animi soluta impedit nemo, sequi ex, laborum laboriosam, id dolorum exercitationem error.Magni vero aliquid architecto exercitationem quia eius, dolores assumenda. Eum, eos. Libero, tenetur odit nam facere nulla eum ipsa ab, esse ut quam consequatur harum laboriosam sapiente facilis distinctio? Voluptates?
                        </p></div>
                    </div>
                </div>
                <a href="#" class="modal-close">Close</a>
            </div>
        </div>
        <div class="transition-layer">
            <div class="bg-layer"></div>
        </div>
    </main>
    <footer>
        <div class="copy">&copy 2018 by Andrej Sharapov</div>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
        <script>
            jQuery(document).ready(function ($) {
                var modalTrigger = $('.modal-trigger'),
                    transitionLayer = $('.transition-layer'),
                    transitionBackground = transitionLayer.children(),
                    modalWindow = $('.modal');
                var frameProportion = 1.78,
                    frames = 25,
                    resize = false;
                init();
                $(window).on('resize', function () {
                    if (!resize) {
                        resize = true;
                        (!window.requestAnimationFrame) ? setTimeout(init, 300): window.requestAnimationFrame(
                            init);
                    }
                });
                modalTrigger.on('click', function (event) {
                    event.preventDefault();
                    transitionLayer.addClass('visible opening');
                    var delay = ($('.no-cssanimations').length > 0) ? 0 : 600;
                    setTimeout(function () {
                        modalWindow.addClass('visible');
                    }, delay);
                });
                modalWindow.on('click', '.modal-close', function (event) {
                    event.preventDefault();
                    transitionLayer.addClass('closing');
                    modalWindow.removeClass('visible');
                    transitionBackground.one(
                        'webkitAnimationEnd oanimationend msAnimationEnd animationend',
                        function () {
                            transitionLayer.removeClass('closing opening visible');
                            transitionBackground.off(
                                'webkitAnimationEnd oanimationend msAnimationEnd animationend');
                        });
                });

                function init() {
                    var windowWidth = $(window).width(),
                        windowHeight = $(window).height(),
                        unitHeight, unitWidth;
                    if (windowWidth / windowHeight > frameProportion) {
                        unitWidth = windowWidth;
                        unitHeight = unitWidth / frameProportion;
                    } else {
                        unitHeight = windowHeight * 1.2;
                        unitWidth = unitHeight * frameProportion;
                    }
                    transitionBackground.css({
                        'width': unitWidth * frames + 'px',
                        'height': unitHeight + 'px',
                    });
                    resize = false;
                }
            });
        </script>
    </footer>
</body>

</html>